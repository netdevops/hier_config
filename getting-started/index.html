<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="canonical" href="https://hier_config.readthedocs.io/getting-started/">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Getting Started - Hierarchical Configuration</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Getting Started";
    var mkdocs_page_input_path = "getting-started.md";
    var mkdocs_page_url = "/getting-started/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Hierarchical Configuration</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../install/">Install</a>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Getting Started</a>
    <ul class="current">
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../advanced-topics/">Advanced Topics</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Hierarchical Configuration</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Getting Started</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/netdevops/hier_config/edit/master/docs/getting-started.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="hier_config-up-and-running">hier_config Up and Running</h1>
<p>Hierarchical Configuration doesn't communicate with devices themselves. It simply reads configuration data and creates a remediation plan based on the input from a running config and the input from a generated config.</p>
<p>The very first thing that needs to happen is that a hier_config Host object needs to be initiated for a device. To do this, import the hier_config Host class.</p>
<pre><code class="language-python">from hier_config import Host
</code></pre>
<p>With the Host class imported, it can be utilized to create host objects.</p>
<pre><code class="language-python">host = Host(hostname=&quot;aggr-example.rtr&quot;, os=&quot;ios&quot;)
</code></pre>
<p>Once a host object has been created, the running configuration and generated configurations of a network device can be loaded into the host object. These configurations can be loaded in two ways. If you already have the configurations loaded as strings in memory, you can load them from the strings.</p>
<p><em>Example of loading configs from in memory strings</em>:</p>
<pre><code class="language-python">
running_config = &quot;&quot;&quot;hostname aggr-example.rtr
!
ip access-list extended TEST
 10 permit ip 10.0.0.0 0.0.0.7 any
!
vlan 2
 name switch_mgmt_10.0.2.0/24 
!
vlan 3
 name switch_mgmt_10.0.4.0/24
!
interface Vlan2
 descripton switch_10.0.2.0/24 
 ip address 10.0.2.1 255.255.255.0
 shutdown
!
interface Vlan3
 mtu 9000
 description switch_mgmt_10.0.4.0/24
 ip address 10.0.4.1 255.255.0.0
 ip access-group TEST in
 no shutdown&quot;&quot;&quot;

generated_config = &quot;&quot;&quot;hostname aggr-example.rtr
!
ip access-list extended TEST
 10 permit ip 10.0.0.0 0.0.0.7 any
!
vlan 2
 name switch_mgmt_10.0.2.0/24 
!
vlan 3
 name switch_mgmt_10.0.3.0/24
!
vlan 4
 name switch_mgmt_10.0.4.0/24
!
interface Vlan2
 mtu 9000
 descripton switch_10.0.2.0/24 
 ip address 10.0.2.1 255.255.255.0
 ip access-group TEST in
 no shutdown
!
interface Vlan3
 mtu 9000
 description switch_mgmt_10.0.3.0/24
 ip address 10.0.3.1 255.255.0.0
 ip access-group TEST in
 no shutdown
!
interface Vlan4
 mtu 9000
 description switch_mgmt_10.0.4.0/24
 ip address 10.0.4.1 255.255.0.0
 ip access-group TEST in
 no shutdown&quot;&quot;&quot;

host.load_running_config(config_text=running_config)
host.load_generated_config(config_text=generated_config)
</code></pre>
<p>The second method for loading configs into the host object is loading the configs from files.</p>
<p><em>Example of loading configs from files.</em></p>
<pre><code class="language-python">host.load_running_config_from_file(&quot;./tests/fixtures/running_config.conf&quot;)
host.load_generated_config_from_file(&quot;./tests/fixtures/generated_config.conf&quot;)
</code></pre>
<p>Once the configs are loaded into the host object, a remediation can be created.</p>
<pre><code class="language-python">host.remediation_config()
</code></pre>
<p><code>host.remediation_config()</code> is loaded as a python object. To view the results of the remediation, create a new variable from the <code>remediation_config()</code> object and iterate through the <code>all_children()</code> or <code>all_children_sorted()</code> function.</p>
<pre><code class="language-python">remediation_config = host.remediation_config()

for line in remediation_config.all_children_sorted():
    print(line.cisco_style_text())
</code></pre>
<p>If you're using the examples from the <code>/tests/fixtures</code> folder in the <a href="https://github.com/netdevops/hier_config/">github</a> repository, you should see an output that resembles:</p>
<pre><code class="language-text">vlan 3
  name switch_mgmt_10.0.3.0/24
vlan 4
  name switch_mgmt_10.0.4.0/24
interface Vlan2
  mtu 9000
  ip access-group TEST in
  no shutdown
interface Vlan3
  description switch_mgmt_10.0.3.0/24
  ip address 10.0.3.1 255.255.0.0
interface Vlan4
  mtu 9000
  description switch_mgmt_10.0.4.0/24
  ip address 10.0.4.1 255.255.0.0
  ip access-group TEST in
  no shutdown
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../advanced-topics/" class="btn btn-neutral float-right" title="Advanced Topics">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../install/" class="btn btn-neutral" title="Install"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/netdevops/hier_config/" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../install/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../advanced-topics/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
